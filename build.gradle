apply plugin: 'java'

version = '1.0'

repositories {
  mavenCentral()
}

configurations {
  provided
  compile.extendsFrom provided
}

dependencies {
  compile 'com.google.code.gson:gson:2.8.2'
  compile 'com.google.zxing:core:3.3.0'
  compile 'com.google.zxing:javase:3.3.0'
}

jar {
  dependsOn configurations.runtime
  from {
    (configurations.runtime - configurations.provided).collect {
      it.isDirectory() ? it : zipTree(it)
    }
  }
}
